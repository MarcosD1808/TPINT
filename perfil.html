<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Perfil</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="StyleHeader.css">
    <link rel="stylesheet" href="styleLogin.css">
    <link rel="stylesheet" href="StylePerfil.css">
</head>

<body id="perfilPage">
    <header class="header">

        <nav class="header__nav">

            <ul class="header__list">
                <li>
                    <div class="SiteIcon"><img id="Icon" src="./img/icons/smoke.png">Pucho-Flix</div>
                </li>
                <li class="header__listItem">
                    <a class="buttons_primary" href="./home.html"><span class="material-icons">home</span>HOME</a>
                </li>
                <li class="header__listItem">
                    <a class="buttons_primary" href="./series.html"><span
                            class="material-icons">video_library</span>SERIES</a>
                </li>

                <li class="header__listItem">
                    <a class="buttons_primary" href="./pelis.html"><span
                            class="material-icons">movie</span>PELICULAS</a>
                </li>

                <li class="header__listItem">
                    <a class="buttons_primary"><span class="material-icons">account_box</span>PERFIL</a>
                </li>

            </ul>
        </nav>

    </header>
    <main class="mainPerfil">
        <article class="registrarseForm">
            <form class="formCrearUsuario" id="formEditarPerfil" action="home.html">
                <div class="crearLoginIzq">

                    <div class="avatar">
                        <img id="avatarUsuario"
                            src="https://play-lh.googleusercontent.com/xlnwmXFvzc9Avfl1ppJVURc7f3WynHvlA749D1lPjT-_bxycZIj3mODkNV_GfIKOYJmG=w240-h480-rw"
                            alt="Avatar de usuario">
                        <p id="usuarioUsuario">usuario</p>
                    </div>
                    <div>
                        <p id="nombreUsuario">Nombre</p>
                        <p id="apellidoUsuario">Apellido</p>
                        <p id="correoUsuario">correo@ejemplo.com </p>
                    </div>

                    <label for="password">Nueva contraseña</label>
                    <input type="password" name="password" id="password" placeholder="Contraseña" required>
                    <label for="confirmarPassword">Confirmar contraseña</label>
                    <input type="password" name="confirmarPassword" id="confirmarPassword"
                        placeholder="Confirmar contraseña" required>
                </div>
                <article class="crearLoginDer">
                    <span>Método de pago</span>

                    <div class="LabelsRadio">
                        <input type="radio" id="Tarjeta" name="FormaPago" value="Tarjeta" required>
                        <label for="Tarjeta">Tarjeta de crédito</label><br>
                    </div>

                    <div class="SecondInputs">
                        <input type="text" placeholder="Numero de Tarjeta" id="CardNumber">
                        <input type="text" placeholder="CVV" id="CVV">
                    </div>
                    <div class="LabelsRadio">
                        <input type="radio" id="Cupon" name="FormaPago" value="Cupon" required>
                        <label for="Cupon">Cupón de Pago</label><br>
                    </div>
                    <div class="SecondInputs">
                        <input type="checkbox" name="cash" id="PagoFacil">
                        <label for="PagoFacil">Pago Fácil</label>
                        <input type="checkbox" name="cash" id="Rapipago">
                        <label for="Rapipago">Rapipago</label>
                    </div>
                    <div class="LabelsRadio">
                        <input type="radio" id="Transferencia" name="FormaPago">
                        <label for="Transferencia">Transferencia Bancaria</label><br><br>
                        <span class="SecondInputs">ALIAS: Profe.Tenga.Piedad.mp</span>
                    </div>
                    <div class="btnRegContainer">
                        <button class="btn-registrarse" id="btn-registrarse" type="submit" disabled>
                            Guardar cambios
                        </button>

                        <button class="cancelarButton" id="btn-cancelar">
                            <a href="index.html">Cancelar suscripción</a>
                        </button>

                        <button class="btn-cerrarSesion" id="btn-cerrarSesion">
                            Cerrar sesión
                        </button>
                    </div>
                </article>
            </article>               
                 <div id="ContainerFavs">
                    <div id="ContainerPelis"></div>
                    <div id="ContainerSeries"></div>
                 </div>            
    </main>

    <footer class="footer-login">
        <p>Creado por Marcos Diaz, Alejo Gonzalez, Franco Nicolas Perez, Nicolas Reynoso </p>
    </footer>
    <script>
     document.addEventListener('DOMContentLoaded', () => {
            const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual'));

                document.getElementById('nombreUsuario').textContent = usuarioActual.nombre;
                document.getElementById('apellidoUsuario').textContent = usuarioActual.apellido;
                document.getElementById('correoUsuario').textContent = usuarioActual.email;
                document.getElementById('usuarioUsuario').textContent = `@${usuarioActual.usuario}`;

                if (usuarioActual.metodoPago === 'Tarjeta') {
                    document.getElementById('Tarjeta').checked = true;
                    document.getElementById('CardNumber').value = usuarioActual.cardNumber || '';
                    document.getElementById('CVV').value = usuarioActual.cvv || '';
                } else if (usuarioActual.metodoPago === 'Cupon') {
                    document.getElementById('Cupon').checked = true;
                    document.getElementById('PagoFacil').checked = usuarioActual.pagoFacil;
                    document.getElementById('Rapipago').checked = usuarioActual.rapipago;
                } else if (usuarioActual.metodoPago === 'Transferencia') {
                    document.getElementById('Transferencia').checked = true;
                }
        
        });
    </script>
    <script src="crearUser.js"></script>
    <script src="JavaScript/Favoritos.js" defer></script>
     <script src="json-data/series.js"></script>
     <script src="json-data/peliculas.js"></script>
     <script src="JavaScript/perfil.js" defer></script>
     
</body>

</html>
